<div *ngIf="!isFeedView; else feed">
  <button *ngIf="isFromMainFeed || isFromSearch" mat-icon-button class="back" (click)="accountDetailsBackButtonClick()">
    <mat-icon>arrow_back_ios</mat-icon>
  </button>
  <mat-card class="user-info">
    <button class="settings" mat-icon-button [matMenuTriggerFor]="menu">
      <mat-icon>settings</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="logout()">
        <mat-icon>exit_to_app</mat-icon>
        <span>logout</span>
      </button>
    </mat-menu>
    <img class="user-avatar" [src]="userAvatar" />
    <h4 class="login mat-typography mat-body-2">{{login}}</h4>
    <div *ngIf="!isLoggedUser">
      <button class="btn-follow-unfollow" (click)="subscriptionButtonClick()">
        <mat-icon *ngIf="isSubscriptionActionInProgress">
          <mat-spinner diameter="20"></mat-spinner>
        </mat-icon>
        {{subscriptionButtonText}}
      </button>
    </div>
    <div *ngIf="isLoggedUser">
      <app-upload-image (updateAvatar)="updateAvatar()"></app-upload-image>
    </div>
  </mat-card>
  <mat-card>
    <h4 class="publications mat-typography mat-body-2">{{posts && posts.length}} publications</h4>
    <mat-grid-list class="preview-container" cols="3" rowHeight="1:1">
      <div *ngFor="let post of posts">
        <mat-grid-tile (click)="tileClick(post['postId'])">
          <img class="preview-image" [src]="post.image" />
        </mat-grid-tile>
      </div>
    </mat-grid-list>
  </mat-card>
</div>

<ng-template #feed>
  <app-feed [posts]="posts" [postToScroll]="postToScroll" [isFromAccountDetails]="true" (goBackToAccountDetailsView)="goBackToAccountDetailsView()"></app-feed>
</ng-template>
